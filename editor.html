<html lang="en" class="notranslate" translate="no"><head><meta charset="utf-8"><meta name="google" content="notranslate"><title>.Visual-Batch-Paint</title><link href="data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAMMOAADDDgAAAAAAAAAAAABUT0f/VE9H/1RPR/9UT0f/VE9H9U5JQcRAOjNeQDozCUA6MwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFRPR+BUT0f8VE9H/1RPR/9UT0f/TUhA/z85MvQ/OTKLQDo0DEA6MwAAAAAAAAAAAAAAAAAsvvoALL76ASy++g0svvocLL76JCy++iMjtfsYBZb/CgeY/gEHmP4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVE9HIVRPR5xUT0f/VE9H/1RPR/9NSED/Pzky/z85Mvs/OTJ0KCQdAEE7NAAAAAAALL76ACy++hQsvvqBLL76xyy++t0svvrmLb/65CCy+9gCk/+/AZL/kAGS/04Ck/8ULr76AAeY/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUT0cAVE9HNFRPR+9UT0f/VE9H/01IQP8/OTL/Pzky/z85MtpAOjMhQDozACy++gAsvvoCLL76iyy++v8svvr/LL76/yy++v8tv/r/H7H7/wGS//8Akf//AJH/+ACR/8sBkv9qApT/EwGS/wAJmv4AAAAAAAAAAAAAAAAAAAAAAFRPRwBUT0cnVE9H6FRPR/9UT0f/TUhA/z85Mv8/OTL/Pzky+z85MlU/OTIALL76ACy++hYsvvrVLL76/yy++v8svvr/LL76/yu++v8dsPv/AZH//wCR//8Akf//AJH//wCR//sAkv+9AZP/Ow+i/gAElf8AAAAAAAAAAAAAAAAAVE9HAFRPRydUT0foVE9H/1RPR/9NSED/Pzky/z85Mv8/OTL/Pzkybz85MgAsvvoALL76Fyy++tcsvvr/LL76/yy++v8rvvr/Rcb7/1vG/f80p///CZX//wCR//8Akf//AJH//wCR//8Akf/iAZL/WAeY/gIDlP4AAAAAAAAAAABUT0cAVE9HGVRPR9hUT0f/VE9H/01IQP8/OTL/Pzky/z85Mv0/OTJbPzkyACy++gAsvvoMLL76xSy++v8svvr/K776/2HO+//K7/7/3PH//8Tj//9+xv//DZb//wCR//8Akf//AJH//wCR//8Akf/rAZL/WABv/wAElf8AAAAAAFRPRwBVUUkBVE9HjFNNRf9UT0f/TUhA/z85Mv8+ODD/Pjgx0kA6Mx9AOjMALL76ACy++hMsvvrQLL76/yu++v84wvr/vOr+/+r4///f8v//zef//8vm//9Osf//AJD//wCR//8Akf//AJH//wCR//8Akf/iAZL/PACR/wAJmv4AAAAAAH5/fAB9f3sjeXp23FtXT/9MRj7/QDoz/1NSVP5kaHNnhJGsAEBDPwAsvvoALL76RCy++vIsvvr/Kr36/0bG+//U8f7/6Pj//9/y///N5v//0Oj//2+///8AkP//AJH//wCR//8Akf//AJH//wCR//8Akf+8ApT/EwKT/wAAAAAA6fr/AO3+/xbf7vXWwMrO/5ukrf+Kl7X/pbrm/bXO/1iyy/0ALL76ACy++iEsvvq+LL76/yy++v8rvvr/OML6/7zq/v/q+P//3/L//83n///L5v//TrH//wCQ//8Akf//AJH//wCR//8Akf//AJH//wCR//wBkv9qAI//AAAAAADm9/8A5vf/Hub4/9/p+v//1+v//7XP//+0zf//sMz/aBG7+RYsvvpdLL76yyy++v8svvr/LL76/yy++v8rvvr/Yc77/8rv/v/c8f//xeP//37G//8Nl///AJL//wCQ/v8AkP7/AJL//wCR//8Akf//AJH//wCR/8gClP8XAAAAAOb3/wDm9/8k5vf/5ef4///V6P//s8z//7TM//9zxv3VKb761yy++vosvvr/LL76/yy++v8svvr/LL76/yy++v8rvvr/Rcb7/1vG/f80p///CZX//wCQ/v8Jd+P/FFa+/xVSuv8Mbtj/AY77/wCR//8Akf//AJH/9gGS/1gAAAAA5vf/AOb3/ynm9//p5/j//9Xo//+zzP//tMz//2rF/P8qvvr/LL76/yy++v8svvr/LL76/yy++v8svvr/LL76/yy++v8rvvr/HbD7/wGR//8Akv//CHnk/xw8ov8gMpf/IDKX/x42m/8NadP/AJH//wCR//8Akf//AZL/oAAAAADn+P8A5/j/Lef4/+zo+f//1un//7TN//+2zf//b8b8/yq++v8svvr/LL76/yy++v8svvr/LL76/yy++v8svvr/LL76/y2/+v8fsfv/AZL//wCR//8TWcL/IDKX/x80mf8fNJn/HzOX/xhIr/8CjPn/AJH//wCR//8Akf/VAAAAANXo+ADV6Pgw1ej47tbp+P/F2vf/pr72/6i+9v9pv/j/Kr36/y64+v8tvPr/LL/6/yy++v8svvr/LL76/yy++v8svvr/Lb/6/x+x+/8Bkv//AJH//xNYwP8gMpf/HzSZ/x80mf8fM5j/GUat/wKL+f8Akf//AJH//wCR//IAAAAAQm2/AEJtvzFCbb/vQm6//z5iuP82TKn/Nkuo/zd10v9HeP7/UV3+/0xr/f83ofv/LL/6/yy++v8svvr/LL76/yy++v8tv/r/H7H7/wGS//8Akv//CnTf/x44nv8fMpf/HzOY/x80mf8PY83/AJH//wCR//8Akf//AJH//gAAAAAiUbIAIlGyMiJRsu8iUrL/IUep/x4ymP8dMpf/Oz7L/1xC//9cQf//XED//1RW/v8zq/v/LL/6/yy++v8svvr/LL76/y2/+v8fsfv/AZL//wCR//8BkP3/C3Da/xdNtP8YSrH/D2XP/wKM+f8Akf//AJH//wCR//8Akf/+AAAAACRTswAkU7MxJFOz7iRUs/8iSar/HzSZ/x40mP89PMz/XEP//1tD//9bQ///W0L//z+N/P8rwPr/LL76/yy++v8svvr/Lb/6/x+x+/8Bkv//AJH//wCQ//8Akf//AI39/wGN+/8Akf//AJH//wCR//8Akf//AJH//wCR//EAAAAAJFOzACRTsy4kU7PtJFSz/yJJqv8fNJn/HjSY/z48zf9cQ///W0P//1tD//9bQ///Po/8/yvA+v8svvr/LL76/yy++v8tv/r/H7H7/wCS//8YmOD/UqiW/16rh/8unsX/ApL8/wCR//8Akf//AJH//wCR//8Akf//AJH/1AAAAAAkU7MAJFOzKyRTs+okVLP/Ikmq/x80mf8eNJj/PETP/1xE//9cQf//XED//1Jc/v8yr/v/K8D8/yy//P8rwPz/LL/8/y2/+v8esf3/HZrb/5u8Of/JyAD/y8kA/7jEFf9GpKb/AJH//wCR//8Akf//AJH//wCR//8Bkv+fAAAAACRTswAkU7MmJFOz5yRUs/8iSar/HzSZ/x8zmP8rdtD/Q4T+/01o/v9Hd/3/NKn7/yy++f81pdH/QIWf/z+Io/8zqtn/Lb/7/x2w/v9jrYP/y8kA/8jIAP/IyAD/y8kA/5y8Ov8MlPD/AJH//wCR//8Akf//AJH/9QGS/1cAAAAAJFOzACRTsyEkU7PiJFSz/yJJqv8fNJn/HzOZ/yaG0v8swfz/Lbz6/yy++v8rwPz/OJzE/1BZV/9VTUT/VU1E/05fYP81ptP/HrL//3ezaf/MyQD/yMgA/8jIAP/KyQD/rMAm/xSW5v8Akf//AJH//wCR//8Akf/HApP/FgAAAAAkU7MAJFOzGiRTs9skVLP/Ikmq/x80mf8fNJn/J4vX/yzA/P8svvr/LL76/y279f9Ib3v/VU1D/1RPR/9UT0f/VU1D/0V8jv8dsP//Saaj/8XHBv/KyAD/ycgA/8zJAP+CtVn/BZL5/wCR//8Akf//AJH//AGS/2kAj/8AAAAAACRTswAkU7MTJFOz0SRUs/8iSar/HzSZ/x82mv8ok9z/LMD8/yy++v8svvv/Lrjx/0tnbv9VTUT/VE9H/1RPR/9VTUT/SHOA/x+v+v8KlPT/Zq19/7DBHv+3wxX/i7dO/x+a1/8Akf//AJH//wCR//8Akv+7ApT/EgKT/wAAAAAAJFOzACRTswskU7PEJFSz/yJJqv8fNJn/Hzmc/ymb4f8swPv/LL76/yy++v8svvr/QYKa/1VNRP9UTkb/VE5F/1RPR/8+j63/H7L9/wGS//8Dkfv/Gpje/yGa1v8Jk/P/AJH//wCR//8Akf//AJH/4gGS/zsAkf8ACpz+AAAAAAAkU7MAJFOzBSRTs7IkVLP/Ikmq/x80mf8gPJ/8KaPn+CzA+/8svvr/LL76/yy/+/8wtOr/RHyP/09cXf9OXmD/QYSc/y+58P8fsvz/AZL//wCR//8AkP//AJD//wCR//8Akf//AJH//wCR/+wBkv9aAHT/AASV/wAAAAAAAAAAACRTswAkU7MAJFOzmSRUs/8iSar/HzSZ/x81muEpmuF1LL/72yy++v8svvr/LL76/yy/+/8tvPf/MbHk/zCy5v8svfn/Lb/7/x+x+/8Bkv//AJH//wCR//8Akf//AJH//wCR//8Akf/mAZL/XAiZ/gIElf8AAAAAAAAAAAAAAAAAJVOzACRTswAkU7N6JFSz/yJJqv8fNJn/HzSZyh82mw8swfwuLL76qiy++vYsvvr/LL76/yy++v8sv/z/LL/7/yy++v8tv/r/H7H7/wGS//8Akf//AJH//wCR//8Akf/+AJH/yAGS/0IKmv4BBJX+AAAAAAAAAAAAAAAAAAAAAAAAAAAAJFOzACRTs1MkVLP7Ikmq/x80mf8fNJmnHzqeAimZ4AAsvvoLLL76VCy++rosvvrzLL76/yy++v8svvr/LL76/y2/+v8fsfv/AZL//wCR//8Akf/9AJH/3AGS/34Ck/8aAJD/AAeZ/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkU7MAJFOzKSRUs+YiSar/HzSZ/x81mXMfM5gAIDqeACy++gAsvvoALL76DCy++kEsvvqGLL76vSy++t0svvrrLb/67SCx++cBkv/VAJH/rAGS/2gCk/8hBpj/AQSW/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRTswAkU7MHJFS0riJJqv8fNJnpHzWaMx81mgAAAAAAAAAAAAAAAAAAAAAALL76ACy++gAsvvoJLL76HCy++issvvovIrT7JwSV/xYElf8FAI7/ABip/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFOzACRTswAkVbRKIkiq7B81mpUfN5sFHzebAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wB8A/8AeAD/gDAAP4AwAB+AMAAHgDAAB4AwAAPAcAABwGAAAcAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAHAAAABwAAAA8AAAAfgAAAH4AAAD+BAAD/g8AB/4P4D//D///8=" rel="icon" type="image/x-icon" /><style>.left-mouse,.right-mouse{display:inline-block;position:relative;width:20px;height:0;top:-20px;left:3px}.left-mouse>div::after,.right-mouse>div::after{content:"";position:absolute;left:50%;width:50%;height:40%;background:red}.left-mouse>div::after{left:0}.left-mouse>div,.right-mouse>div{position:absolute;left:0;top:0;width:100%;height:26px;background:#fff;border:3px solid #000;border-radius:20px;overflow:hidden}.canvas-info{user-select:none;position:absolute;bottom:10px;right:10px;display:flex;flex-direction:column;align-items:flex-end}#content,.canvas-wrap,canvas{position:relative}#lock,#lock-content{top:-100%;opacity:0;transition:opacity .3s;left:0}#continue::after,#lock,#lock-content,#output{width:100%;height:100%}#content,.canvas-wrap,.form-control[type=file]{overflow:hidden}.form-control:focus,.form-select:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}body,html{margin:0;padding:0;overflow-x:hidden;background:#111!important;color:#ddd!important;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border:0 solid;border-color:inherit}#continue,#continue::after{left:50%;border-radius:20px;transform:translate(-50%,-50%)}body{margin:0;font-size:1rem;font-weight:400;line-height:1.5;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.col-12{flex:0 0 auto;width:100%}.container{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto}#content{border-top:1px solid rgba(200,200,200,.2)}#continue,#continue::after,#lock,#lock-content{position:absolute}#lock{z-index:5;background:#111}#lock-content{z-index:10}#lock.active{opacity:.8}#lock-content.active{opacity:1}#continue{background:#ccc;color:#222;padding:10px;font-size:18px;font-family:Verdana}#output,.footer{position:relative}#appver,.title{font-size:20px}#continue::after{content:"";top:50%;border-top:5px solid #ccc;border-bottom:5px solid #ccc;border-left:10px solid #ccc;border-right:10px solid #ccc;animation:1s linear infinite continueanime}@keyframes continueanime{0%{opacity:1;transform:translate(-50%,-50%) scale(1,1)}100%{opacity:0;transform:translate(-50%,-50%) scale(2,4)}}#continue:hover{opacity:.5}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}.options{display:flex;flex-direction:column;align-items:flex-end}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}@media (min-width:1400px){.container{max-width:1320px}}.option{margin-bottom:10px}#output{min-height:400px;background:#444;color:#fefefe;border:0;border-radius:3px;outline:0;resize:none}#output:active,#output:focus,#output:focus-visible,#output:focus-within{border:0;outline:0}.title{font-weight:700}.form-control,.form-select{display:block;font-size:1rem;font-weight:400;line-height:1.5;background-color:#fff;width:100%}.s-0{display:block;height:100px}.s-1{display:block;height:50px}.s-2{display:block;height:25px}.form-control{padding:.375rem .75rem;color:#212529;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border:0 solid;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;border-color:inherit}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border:0 solid;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;border-color:inherit}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-select{padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);color:#212529;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-control{transition:none}.form-control::file-selector-button{transition:none}.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-select{transition:none}}.form-select:focus{border-color:#86b7fe}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}table{caption-side:bottom;border-collapse:collapse;--bs-table-bg:transparent;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:#fff;border-color:#373b3e;width:100%;margin-bottom:1rem;vertical-align:top}table>:not(caption)>*>*{padding:.5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}table>tbody{vertical-align:inherit}table>thead{vertical-align:bottom}table>:not(:last-child)>:last-child>*{border-bottom-color:currentColor}#appname{display:inline-block}#appver{color:#ff8080}.footer{width:100%;padding:30px 0;background:#000;color:#ff8080;border-top:1px solid rgba(200,200,200,.2)}.footer>.copyright{position:absolute;top:50%;left:0;width:100%;text-align:center;font-weight:700;font-size:16px;transform:translateY(-50%)}</style></head><body><div class="canvas-wrap"> <canvas></canvas> <div id="lock"></div><div id="lock-content"> <div id="continue">CONTINUE</div></div><div class="canvas-info"> <div><strong>HOLD <div class="right-mouse"><div></div></div>+ MOVE <span style="color:#00ff00;">TO</span> PAN</strong></div><div><strong>HOLD <div class="left-mouse"><div></div></div>+ MOVE <span style="color:#00ff00;">TO</span> DRAW</strong></div><div><strong>SCROLL <span style="color:#00ff00;">TO</span> ZOOM</strong></div></div></div><div id="content"> <div class="container"> <div class="s-1"></div><h1 id="appname">.Visual-Batch-Paint</h1><span id="appver"></span> <div class="s-1"></div><div class="row"> <div class="col-12 col-md-4 options"> <div class="title">Options:</div><div id="options"> <div class="option"> Name: <input id="options.name" class="form-control" value="new_draw"/> </div><div class="option"> Environment Setter Name: <input id="options.env" class="form-control" value="setenv"/> </div><div class="option"> Mode: <select class="form-select" id="options.mode"></select> </div><div class="option"> Namespace: <table> <thead> <tr><th>Name</th><th>Value</th></tr></thead> <tbody> <tr><td>X</td><td><select id="options.namespaces.x" class="options.namespaces.select"></select></td></tr><tr><td>Y</td><td><select id="options.namespaces.y" class="options.namespaces.select"></select></td></tr><tr><td>BG</td><td><select id="options.namespaces.bg" class="options.namespaces.select"></select></td></tr><tr><td>FG</td><td><select id="options.namespaces.fg" class="options.namespaces.select"></select></td></tr><tr><td>ASCII</td><td><select id="options.namespaces.ascii" class="options.namespaces.select"></select></td></tr></tbody> </table> </div></div><button id="compile">⚙️ RUN</button> <div class="s-1"></div></div><div class="col-12 col-md-8"> <textarea id="output" spellcheck="false" autocorrect="off" autocapitalize="off"></textarea> </div><div class="s-0"></div></div></div></div><div class="footer"><div class="copyright">© Copyright 2022 - Flammrock</div></div><script>function scrollPolyfill(){var e=window,o=document;if(!("scrollBehavior"in o.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var t,l=e.HTMLElement||e.Element,r=468,n={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:l.prototype.scroll||f,scrollIntoView:l.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(t=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);e.scroll=e.scrollTo=function(){arguments[0]!==undefined&&(!0!==c(arguments[0])?h.call(e,o.body,arguments[0].left!==undefined?~~arguments[0].left:e.scrollX||e.pageXOffset,arguments[0].top!==undefined?~~arguments[0].top:e.scrollY||e.pageYOffset):n.scroll.call(e,arguments[0].left!==undefined?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){arguments[0]!==undefined&&(c(arguments[0])?n.scrollBy.call(e,arguments[0].left!==undefined?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:0):h.call(e,o.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},l.prototype.scroll=l.prototype.scrollTo=function(){if(arguments[0]!==undefined)if(!0!==c(arguments[0])){var e=arguments[0].left,o=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===o?this.scrollTop:~~o)}else{if("number"==typeof arguments[0]&&arguments[1]===undefined)throw new SyntaxError("Value could not be converted");n.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top:arguments[1]!==undefined?~~arguments[1]:this.scrollTop)}},l.prototype.scrollBy=function(){arguments[0]!==undefined&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):n.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},l.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var t=function(e){for(;e!==o.body&&!1===p(e);)e=e.parentNode||e.host;return e}(this),l=t.getBoundingClientRect(),r=this.getBoundingClientRect();t!==o.body?(h.call(this,t,t.scrollLeft+r.left-l.left,t.scrollTop+r.top-l.top),"fixed"!==e.getComputedStyle(t).position&&e.scrollBy({left:l.left,top:l.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else n.scrollIntoView.call(this,arguments[0]===undefined||arguments[0])}}function f(e,o){this.scrollLeft=e,this.scrollTop=o}function c(e){if(null===e||"object"!=typeof e||e.behavior===undefined||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function a(e,o){return"Y"===o?e.clientHeight+s<e.scrollHeight:"X"===o?e.clientWidth+s<e.scrollWidth:void 0}function d(o,t){var l=e.getComputedStyle(o,null)["overflow"+t];return"auto"===l||"scroll"===l}function p(e){var o=a(e,"Y")&&d(e,"Y"),t=a(e,"X")&&d(e,"X");return o||t}function u(o){var t,l,n,s,f=(i()-o.startTime)/r;s=f=f>1?1:f,t=.5*(1-Math.cos(Math.PI*s)),l=o.startX+(o.x-o.startX)*t,n=o.startY+(o.y-o.startY)*t,o.method.call(o.scrollable,l,n),l===o.x&&n===o.y||e.requestAnimationFrame(u.bind(e,o))}function h(t,l,r){var s,c,a,d,p=i();t===o.body?(s=e,c=e.scrollX||e.pageXOffset,a=e.scrollY||e.pageYOffset,d=n.scroll):(s=t,c=t.scrollLeft,a=t.scrollTop,d=f),u({scrollable:s,method:d,startTime:p,startX:c,startY:a,x:l,y:r})}}</script><script type="text/javascript">CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,o,i){return n<2*i&&(i=n/2),o<2*i&&(i=o/2),this.beginPath(),this.moveTo(t+i,e),this.arcTo(t+n,e,t+n,e+o,i),this.arcTo(t+n,e+o,t,e+o,i),this.arcTo(t,e+o,t,e,i),this.arcTo(t,e,t+n,e,i),this.closePath(),this};var FlDOM={CreateCanvas:function(){return document.createElement("canvas")}};FlDOM.Point=function(){var t=function(t,e){"object"==typeof t?(this.x=t.x||0,this.y=t.y||t.x):(this.x=t||0,this.y=e||this.x)};return t.prototype.update=function(t){this.x+=t.x,this.y+=t.y},t.prototype.add=function(t,e){var n=this.x;e=this.y;return"object"==typeof t?(n+=t.x,e+=t.y):(n+=t,e+=e),new FlDOM.Point(n,e)},t.prototype.substract=function(t,e){var n=this.x;e=this.y;return"object"==typeof t?(n-=t.x,e-=t.y):(n-=t,e-=e),new FlDOM.Point(n,e)},t.prototype.copy=function(){return new t(this.x,this.y)},t}(),FlDOM.isPoint=function(t){return t instanceof FlDOM.Point},FlDOM.FPS=60,FlDOM.BackgroundGrid=function(){var t=function(t,e){this.ds=t,this.size=e,this.offscreen=null,this.delta=new FlDOM.Point,this.zIndex=0};return t.prototype.create=function(t,e){if(null==this.image){this.offscreen=FlDOM.CreateCanvas(),this.offscreen.width=this.size.x,this.offscreen.height=this.size.y;for(var n=this.offscreen.getContext("2d"),o=this.size.y/this.ds.y+5,i=this.size.x/this.ds.x+5,r=0,s=0,a=[t,e],l=0;l<o;l++){r=s;for(var c=0;c<i;c++)n.beginPath(),n.rect(c*this.ds.x,l*this.ds.y,this.ds.x,this.ds.y),n.fillStyle=a[r],r=0==r?1:0,n.fill();s=0==s?1:0}}},t.prototype.update=function(t){"number"!=typeof t&&(t=10),this.delta.update(new FlDOM.Point(t/FlDOM.FPS)),this.delta.x>this.size.x&&(this.delta.x=0),this.delta.y>this.size.y&&(this.delta.y=0)},t.prototype.draw=function(t,e){this.update();for(var n=t.height/this.size.y+4,o=t.width/this.size.x+4,i=-2;i<n;i++)for(var r=-2;r<o;r++)e.drawImage(this.offscreen,this.delta.x+r*this.size.x,this.delta.y+i*this.size.y)},t}(),FlDOM.Mouse=function(t){var e=function(e,n){var o=new t(e,n);this.x=o.x,this.y=o.y,this.down=!1,this.out=!1};return e.prototype.update=function(t){this.x+=t.x,this.y+=t.y},e.prototype.add=function(t,n){var o=this.x;n=this.y;"object"==typeof t?(o+=t.x,n+=t.y):(o+=t,n+=n);var i=new e(o,n);return i.down=this.down,i.out=this.out,i},e.prototype.substract=function(t,n){var o=this.x;n=this.y;"object"==typeof t?(o-=t.x,n-=t.y):(o-=t,n-=n);var i=new e(o,n);return i.down=this.down,i.out=this.out,i},e.prototype.copy=function(){var t=new e(this.x,this.y);return t.down=this.down,t.out=this.out,t},e.prototype.isOut=function(){return this.out},e.prototype.isDown=function(){return this.down},e}(FlDOM.Point),FlDOM.Grid=function(){var t=function(t,e){this.ds=t,this.color=e,this.zIndex=0};return t.prototype.drawgrid=function(t,e,n,o,i,r,s){for(var a=s?r.copy():o.copy(),l=this.ds.x,c=this.ds.y,h=(i.x-o.x)/l,u=o.x-a.x%l,d=-4;d<h+4;d++)e.beginPath(),e.moveTo(u+d*l,o.y),e.lineTo(u+d*l,i.y),e.strokeStyle=this.color,e.stroke();var f=(i.y-o.y)/c,v=o.y-a.y%c;for(d=-4;d<f+4;d++)e.beginPath(),e.moveTo(o.x,v+d*c),e.lineTo(i.x,v+d*c),e.strokeStyle=this.color,e.stroke()},t.prototype.draw=function(t,e,n,o){this.drawd(t,e,.5,n),null==n||o.isHover()||o.isOut()||this.drawd(t,e,1,n,this.ds.x+this.ds.x/5)},t.prototype.drawd=function(t,e,n,o,i){n="number"==typeof n?n:1;var r=e.transformedPoint(0,0),s=e.transformedPoint(t.width,t.height),a=null==o?r:e.transformedPoint(o.x,o.y);if(FlDOM.isPoint(r)||(r=new FlDOM.Point(r)),FlDOM.isPoint(s)||(s=new FlDOM.Point(s)),FlDOM.isPoint(a)||(a=new FlDOM.Point(a)),"number"!=typeof i||i<=0)return e.globalAlpha=n,this.drawgrid(t,e,n,r,s,a,!1),void(e.globalAlpha=1);e.save(),e.beginPath();var l=i;e.arc(a.x,a.y,l,0,2*Math.PI,!1);var c=FlDOM.CreateCanvas();c.width=t.width,c.height=t.height;var h=c.getContext("2d"),u=e.getTransform();h.setTransform(u.a,u.b,u.c,u.d,u.e,u.f),h.lineWidth=5,this.drawgrid(c,h,1,r,s,a);var d=h.createRadialGradient(a.x,a.y,0,a.x,a.y,l);d.addColorStop(0,"rgba(255, 255, 255, 0)"),d.addColorStop(.1,"rgba(255, 255, 255, 0)"),d.addColorStop(.7,"rgba(255, 255, 255, 0.8)"),d.addColorStop(1,"rgba(255, 255, 255, 1)"),h.fillStyle=d,h.globalCompositeOperation="destination-out",h.fillRect(a.x-l,a.y-l,2*l,2*l),e.clip(),e.globalAlpha=n,e.setTransform(1,0,0,1,0,0),e.drawImage(c,0,0),e.setTransform(u.a,u.b,u.c,u.d,u.e,u.f),e.restore()},t}(),FlDOM.UI=function(){var t=function(t){this.items=[],this.hover=null,this.zIndex=0,this.mouse=t,this._lock=!1};return t.prototype.clear=function(){this.items=[],this.hover=null},t.prototype.reset=function(){this.hover=null},t.prototype.add=function(t){return this.items.push(t),this},t.prototype.isHover=function(){return null!=this.hover||this.isOut()||this.isLock()},t.prototype.isOut=function(){return this.mouse.out},t.prototype.isLock=function(){return this._lock},t.prototype.getMouse=function(){return this.mouse},t.prototype.lock=function(){this._lock=!0},t.prototype.unlock=function(){this._lock=!1},t.prototype.draw=function(t,e){e.save(),e.setTransform(1,0,0,1,0,0),this.hover=null;for(var n=0;n<this.items.length;n++)this.items[n].draw(t,e,this._lock?null:this.mouse,this)&&(null!=this.hover||this._lock||(this.hover=this.items[n]));e.restore()},t}(),FlDOM.ColorPallet=function(){var t=function(){this.colors=[],this.currentcolor=null,this.zIndex=0};return t.prototype.add=function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)this.add(t[e]);return this}return this.colors.push(t),this.currentcolor=t,this},t.prototype.draw=function(t,e,n,o){var i=o.isHover(),r=this.colors,s=15,a=15;e.globalAlpha=.8;for(var l=0;l<r.length;l++){var c=!1;e.beginPath(),e.arc(s,a,15,0,2*Math.PI,!1),e.closePath(),null!=n&&!i&&e.isPointInPath(n.x,n.y)&&(i=!0,c=!0,n.isDown()&&(this.currentcolor=r[l]));var h=10;(c||this.currentcolor==r[l])&&(h=15),e.globalAlpha=c?1:.2,e.beginPath(),e.arc(s,a,h+5,0,2*Math.PI,!1),e.fillStyle=c?r[l]:"#000000",e.fill(),e.closePath(),e.globalAlpha=c?1:.8,e.beginPath(),e.arc(s,a,h,0,2*Math.PI,!1),e.fillStyle=r[l],e.fill(),a+=30,7==l&&(s+=30,a=15),e.globalAlpha=1}return e.rect(0,0,30*parseInt(r.length/8),240),null!=n&&!o.isHover()&&e.isPointInPath(n.x,n.y)&&(i=!0),i},t}(),FlDOM.TrackTransforms=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e.createSVGMatrix();t.getTransform=function(){return n};var o=[],i=t.save;t.save=function(){return o.push(n.translate(0,0)),i.call(t)};var r=t.restore;t.restore=function(){return n=o.pop(),r.call(t)};var s=t.scale;t.scale=function(e,o){return n=n.scaleNonUniform(e,o),s.call(t,e,o)};var a=t.rotate;t.rotate=function(e){return n=n.rotate(180*e/Math.PI),a.call(t,e)};var l=t.translate;t.translate=function(e,o){return n=n.translate(e,o),l.call(t,e,o)};var c=t.transform;t.transform=function(o,i,r,s,a,l){var h=e.createSVGMatrix();return h.a=o,h.b=i,h.c=r,h.d=s,h.e=a,h.f=l,n=n.multiply(h),c.call(t,o,i,r,s,a,l)};var h=t.setTransform;t.setTransform=function(e,o,i,r,s,a){return n.a=e,n.b=o,n.c=i,n.d=r,n.e=s,n.f=a,h.call(t,e,o,i,r,s,a)};var u=e.createSVGPoint();t.transformedPoint=function(t,e){return u.x=t,u.y=e,u.matrixTransform(n.inverse())}},FlDOM.Surface=function(t,e,n,o,i,r,s){var a=function(t,e,n){t.x=n.offsetX||n.pageX-e.offsetLeft,t.y=n.offsetY||n.pageY-e.offsetTop},l=function(){return window.scrollY},c=function(t){var e=this;this.canvas=t,this.mouse=new s,this.ctx=this.canvas.getContext("2d"),FlDOM.TrackTransforms(this.ctx),this.items=[],this.itemsbackground=[],this.itemsforeground=[],this.UI=new i(this.mouse),this._events={},this._lock=!1,this.info={dragged:!1,dragStart:null};var n=this.ctx;t.addEventListener("mousedown",function(o){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",a(e.mouse,t,o),e.mouse.out=!1,function(t){return!(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)&&("buttons"in t?1===t.buttons:"which"in t?1===t.which:1==t.button||"click"==t.type)}(o)||e.UI.isHover()||(e.info.dragStart=n.transformedPoint(e.mouse.x,e.mouse.y),e.info.dragged=!1),e.fire(c.Events.MOUSEDOWN,o),e.mouse.down=!0},!1),t.addEventListener("mousein",function(t){e.mouse.out=!1,e.fire(c.Events.MOUSEIN,t)}),t.addEventListener("mouseout",function(t){e.reset(),e.fire(c.Events.MOUSEOUT,t)},!1),t.addEventListener("mousemove",function(o){var i=e.mouse.x,r=e.mouse.y;e.mouse.out=!1,a(e.mouse,t,o);i!=e.mouse.x||e.mouse.y,n.transformedPoint(e.mouse.x,e.mouse.y);if(e.info.dragged=!0,e.info.dragStart){var s=n.transformedPoint(e.mouse.x,e.mouse.y);n.translate(s.x-e.info.dragStart.x,s.y-e.info.dragStart.y),e.mouse.down=!1}e.mouse.down&&!e.UI.isHover()&&e.fire(c.Events.MOUSEMOVE,o)},!1),t.addEventListener("mouseup",function(t){e.info.dragStart=null,e.mouse.out=!1,e.mouse.down&&!e.UI.isHover()&&e.fire(c.Events.MOUSEUP,t),e.mouse.down=!1},!1);var o=function(t){if(0==l()){e.mouse.down=!1;var o=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;return o&&function(t){var o=n.transformedPoint(e.mouse.x,e.mouse.y);n.translate(o.x,o.y);var i=Math.pow(1.1,t);n.scale(i,i),n.translate(-o.x,-o.y)}(o),t.preventDefault()&&!1}},r=function(t){var n=l();e.fire(c.Events.SCROLL,n)};r(),window.addEventListener("DOMMouseScroll",r,!1),window.addEventListener("mousewheel",r,!1),window.addEventListener("scroll",r,!1),t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener("mousewheel",o,!1),t.oncontextmenu=function(t){t.preventDefault(),t.stopPropagation()}};return c.prototype.fire=function(t,e){"function"==typeof this._events[t]&&this._events[t].apply(this,Array.isArray(e)?e:[e])},c.prototype.on=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.on(t[n],e);else this._events[t]=e},c.prototype.add=function(t,e){return e?(this.itemsbackground.push(t),this.itemsbackground=this.itemsbackground.sort(function(t,e){return t.zIndex-e.zIndex})):(this.items.push(t),this.items=this.items.sort(function(t,e){return t.zIndex-e.zIndex})),this},c.prototype.reset=function(){this.mouse.down=!1,this.info.dragStart=null,this.info.dragged=!1,this.UI.reset(),this.mouse.out=!0},c.prototype.clear=function(){var t=this.ctx,e=this.canvas,n=t.getTransform();e.width=window.innerWidth,e.height=window.innerHeight,t.setTransform(n.a,n.b,n.c,n.d,n.e,n.f);var o=t.transformedPoint(0,0),i=t.transformedPoint(e.width,e.height);t.clearRect(o.x,o.y,i.x-o.x,i.y-o.y),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height);for(var r=0;r<this.itemsbackground.length;r++)this.itemsbackground[r].draw(this.canvas,this.ctx,this._lock?null:this.mouse);t.restore()},c.prototype.getScroll=function(){return l()},c.prototype.draw=function(){this.clear();for(var t=0;t<this.items.length;t++)this.items[t].draw(this.canvas,this.ctx,this._lock?null:this.mouse,this.UI);this.fire(c.Events.DRAW,[this.canvas,this.ctx,this.mouse,this.UI]),this.UI.draw(this.canvas,this.ctx,this.mouse)},c.prototype.lock=function(){this._lock=!0,this.UI.lock(),this.reset()},c.prototype.unlock=function(){this._lock=!1,this.UI.unlock()},c.Events={MOUSEMOVE:1,MOUSEOUT:2,MOUSEIN:3,MOUSEDOWN:4,MOUSEUP:5,SCROLL:6,DRAW:7},c}(FlDOM.Point,FlDOM.isPoint,FlDOM.BackgroundGrid,FlDOM.Grid,FlDOM.UI,FlDOM.CreateCanvas,FlDOM.Mouse),FlDOM.Button=function(){var t=function(t,e){return"string"==typeof e?(e=e.trim()).length<=0?0:isNaN(e)?"%"==e.charAt(e.length-1)?(e=e.slice(0,-1)).length<=0?0:isNaN(e)?0:t*(parseFloat(e)/100):0:parseFloat(e):e},e=function(t,e,n){e=e||{},this.zIndex=0,this.text=t,this.padding=e.padding||10,this.radius=e.radius||20,this.background=e.background||"#eeeeee",this.foreground=e.foreground||"#111111",this.font=e.font||"30px Verdana",this.x="undefined"!=typeof e.x?e.x:"50%",this.y="undefined"!=typeof e.y?e.y:"50%",this.anchorX=-("number"==typeof e.anchorX?e.anchorX:.5),this.anchorY=-("number"==typeof e.anchorY?e.anchorY:.5),this.ondown="function"==typeof n?n:null,this.isdown=!1,this.actived=!1,this.extend="undefined"!=typeof e.extend&&e.extend,this.extendanimation=0,this.wave="boolean"!=typeof e.wave||e.wave,this.waveanimation=0,this.icon=e.icon||null};return e.prototype.click=function(t){if(void 0!==t)return"function"==typeof t?(this.ondown=t,this):(this.ondown=null,this);"function"==typeof this.ondown&&this.ondown()},e.prototype.down=function(){"function"==typeof this.ondown&&(this.actived||(this.actived=!0,this.ondown()))},e.prototype.draw=function(e,n,o,i){if(null!=this.icon){var r=t(e.width,this.x)+48*this.anchorX,s=t(e.height,this.y)+48*this.anchorY;n.save(),n.translate(r,s);var a=this.icon.draw(n,function(){return null!=o&&!l&&n.isPointInPath(o.x,o.y)},function(){n.globalAlpha=.5});return a?(this.isdown||(this.isdown=o.isDown()),this.isdown&&!o.isDown()&&(this.isdown=!1,this.down(),this.actived=!1)):(this.isdown=!1,this.actived=!1),n.restore(),a}n.save();var l=i.isHover();n.font=this.font,n.textBaseline="middle",n.textAlign="center";var c=n.measureText(this.text).width+2*this.padding,h=n.measureText("M").width+2*this.padding;this.extend&&(c=h+this.extendanimation*(c-h));r=t(e.width,this.x)+c*this.anchorX,s=t(e.height,this.y)+h*this.anchorY;n.roundRect(r,s,c,h,this.radius);var u=!1;return null!=o&&!l&&n.isPointInPath(o.x,o.y)&&(u=!0),this.wave&&!u&&(n.globalAlpha=1-this.waveanimation,n.lineWidth=10,n.roundRect(r-this.waveanimation*c/2,s-this.waveanimation*h/2,c+this.waveanimation*c,h+this.waveanimation*h,this.radius),n.strokeStyle=this.background,n.stroke(),n.globalAlpha=1,n.lineWidth=0),n.roundRect(r,s,c,h,this.radius),u?(l=!0,n.globalAlpha=.5,this.extend&&(this.extendanimation+=4/FlDOM.FPS,this.extendanimation>1&&(this.extendanimation=1)),this.isdown||(this.isdown=o.isDown()),this.isdown&&!o.isDown()&&(this.isdown=!1,this.down(),this.actived=!1,this.extendanimation=0,this.waveanimation=0),this.waveanimation=0):(this.isdown=!1,this.actived=!1,this.extend&&(this.extendanimation-=10/FlDOM.FPS,this.extendanimation<0&&(this.extendanimation=0)),this.wave&&(this.waveanimation+=1/FlDOM.FPS,this.waveanimation>1&&(this.waveanimation=0))),n.clip(),n.fillStyle=this.background,n.fill(),n.fillStyle=this.foreground,n.fillText("string"!=typeof this.extend||u?this.text:this.extend,r+c/2,s+h/2+2),n.restore(),l},e}(),FlDOM.SVGIcons={trash:{draw:function(t,e,n){var o=!1;return t.save(),t.strokeStyle="rgba(0,0,0,0)",t.miterLimit=4,t.font="15px ''",t.font="   15px ''",t.save(),t.fillStyle="#9575CD",t.font="   15px ''",t.beginPath(),t.moveTo(34,12),t.lineTo(28,6),t.lineTo(20,6),t.lineTo(14,12),t.lineTo(11,12),t.lineTo(11,40),t.bezierCurveTo(11,42.2,12.8,44,15,44),t.lineTo(33,44),t.bezierCurveTo(35.2,44,37,42.2,37,40),t.lineTo(37,12),t.lineTo(34,12),t.closePath(),t.restore(),e()&&(o=!0,n()),t.save(),t.fillStyle="#9575CD",t.font="   15px ''",t.beginPath(),t.moveTo(34,12),t.lineTo(28,6),t.lineTo(20,6),t.lineTo(14,12),t.lineTo(11,12),t.lineTo(11,40),t.bezierCurveTo(11,42.2,12.8,44,15,44),t.lineTo(33,44),t.bezierCurveTo(35.2,44,37,42.2,37,40),t.lineTo(37,12),t.lineTo(34,12),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#7454B3",t.font="   15px ''",t.beginPath(),t.moveTo(24.5,39),t.lineTo(23.5,39),t.bezierCurveTo(22.7,39,22,38.3,22,37.5),t.lineTo(22,18.5),t.bezierCurveTo(22,17.7,22.7,17,23.5,17),t.lineTo(24.5,17),t.bezierCurveTo(25.3,17,26,17.7,26,18.5),t.lineTo(26,37.5),t.bezierCurveTo(26,38.3,25.3,39,24.5,39),t.closePath(),t.moveTo(31.5,39),t.lineTo(31.5,39),t.bezierCurveTo(30.7,39,30,38.3,30,37.5),t.lineTo(30,18.5),t.bezierCurveTo(30,17.7,30.7,17,31.5,17),t.lineTo(31.5,17),t.bezierCurveTo(32.3,17,33,17.7,33,18.5),t.lineTo(33,37.5),t.bezierCurveTo(33,38.3,32.3,39,31.5,39),t.closePath(),t.moveTo(16.5,39),t.lineTo(16.5,39),t.bezierCurveTo(15.7,39,15,38.3,15,37.5),t.lineTo(15,18.5),t.bezierCurveTo(15,17.7,15.7,17,16.5,17),t.lineTo(16.5,17),t.bezierCurveTo(17.3,17,18,17.7,18,18.5),t.lineTo(18,37.5),t.bezierCurveTo(18,38.3,17.3,39,16.5,39),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle="#B39DDB",t.font="   15px ''",t.beginPath(),t.moveTo(11,8),t.lineTo(37,8),t.bezierCurveTo(38.1,8,39,8.9,39,10),t.lineTo(39,12),t.lineTo(9,12),t.lineTo(9,10),t.bezierCurveTo(9,8.9,9.9,8,11,8),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore(),o}}};var surface,canvas=document.getElementsByTagName("canvas")[0];canvas.width=window.innerWidth,canvas.height=window.innerHeight,window.onload=function(){document.getElementById("appver").innerHTML="@"+Fl.VERSION,document.title+="@"+Fl.VERSION,scrollPolyfill();var t=document.getElementById("options.mode");for(var e in plugins){if(plugins.hasOwnProperty(e))(r=document.createElement("option")).value=e,r.innerHTML=e.capitalize(),t.appendChild(r)}var n=Object.keys(plugins);t.value=n[n.length-1];for(var o=document.getElementsByClassName("options.namespaces.select"),i=0;i<o.length;i++)for(var e in Fl.Config.Namespace.Variable){var r;if(Fl.Config.Namespace.Variable.hasOwnProperty(e))(r=document.createElement("option")).value=Fl.Config.Namespace.Variable[e],r.innerHTML=e.capitalize(),o[i].appendChild(r)}for(var s in system.defaultSettings.namespaces)system.defaultSettings.namespaces.hasOwnProperty(s)&&(document.getElementById("options.namespaces."+s).value=system.defaultSettings.namespaces[s]);var l={},c=function(t,e,n,o){for(var i=e.ds.x,r=e.ds.y,s=t.x-t.x%i-(t.x<0?i:0),a=t.y-t.y%r-(t.y<0?r:0),c=Fl.CoordinateToString(s/i,a/r),h=0,u=0;u<n.colors.length;u++)if(n.colors[u]==n.currentcolor){h=u;break}h=h.toString(16),"undefined"==typeof l[c]?(l[c]=new Fl.Cell(s/i,a/r,{fg:h,bg:"f",value:n.currentcolor}),void 0!==o&&(l[c].ascii=o)):(l[c].color={bg:"0",fg:h,value:n.currentcolor},void 0!==o&&(l[c].ascii=o))},h=function(){var e={};for(var n in system.defaultSettings.namespaces)system.defaultSettings.namespaces.hasOwnProperty(n)&&(e[n]=document.getElementById("options.namespaces."+n).value);try{document.getElementById("output").value="processing...";var o=transpiler.process({content:l,env:env,envName:document.getElementById("options.env").value||"setenv",name:document.getElementById("options.name").value||"new_draw",useVariables:0,analysers:analysers,builder:builder,plugin:plugins[t.value],namespaces:e,formatter:formatter});document.getElementById("output").value=o}catch(t){console.log(t),document.getElementById("output").value="error"}};surface=new FlDOM.Surface(canvas);var u=new FlDOM.BackgroundGrid(new FlDOM.Point(10),new FlDOM.Point(1e3)),d=new FlDOM.Grid(new FlDOM.Point(50),"#aaaaaa");d.zIndex=100,u.create("#000000","#222222");var f=(new FlDOM.ColorPallet).add(["#0c0c0c","#0037da","#13a10e","#3a96dd","#c50f1f","#881798","#c19c00","#cccccc","#767676","#3b78ff","#16c60c","#61d6d6","#e74856","#b4009e","#f9f1a5","#f2f2f2"]);surface.add(u,!0),surface.add(d),surface.UI.add(f),surface.UI.add(new FlDOM.Button("GET BATCH SCRIPT",{extend:"!",y:"100%",anchorY:1.4}).click(function(){h(),window.scroll({top:.6*window.innerHeight,behavior:"smooth"})})),surface.UI.add(new FlDOM.Button("",{icon:FlDOM.SVGIcons.trash,x:"100%",y:0,anchorX:1.4,anchorY:-.1}).click(function(){l={}})),surface.add({zIndex:10,draw:function(t,e,n){for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];e.beginPath(),e.rect(i.x*d.ds.x,i.y*d.ds.y,d.ds.x,d.ds.y),e.fillStyle=i.color.value,e.fill()}}}),surface.UI.add(new FlDOM.Button("Load Image..",{font:"14px Verdana",wave:!1,x:0,y:"100%",anchorX:-.1,anchorY:1.4}).click(function(){if("undefined"!=typeof FileReader){var t="$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`'. ",e=function(t,e){return a="object"==typeof t?t:n(t),b="object"==typeof e?e:n(e),Math.sqrt(Math.pow(a.r-b.r,2)+Math.pow(a.g-b.g,2)+Math.pow(a.b-b.b,2))},n=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},o=function(t,n){for(var o={r:n[0],g:n[1],b:n[2]},i=e(t[0],o),r=t[0],s=1;s<t.length;s++){var a=e(t[s],o);a<i&&(i=a,r=t[s])}return r},i=document.createElement("input");i.type="file",i.onchange=function(e){var n=e.target.files[0],i=new FileReader,r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var n=e.getContext("2d");n.drawImage(r,0,0);for(var i,s=n.getImageData(0,0,e.width,e.height).data,a=surface.ctx.transformedPoint(0,0),l=f.currentcolor,h=0;h<e.height;h+=d.ds.y)for(var u=0;u<e.width;u+=d.ds.x){var v=4*(u+h*e.width);if(0!=s[v+3]){i=[s[v],s[v+1],s[v+2]],t.charCodeAt(parseInt(t.length*function(t){return.2126*t[0]+.7152*t[1]+.0722*t[2]}(i)/256));var p=o(f.colors,[s[v],s[v+1],s[v+2]]);f.currentcolor=p,c({x:a.x+u,y:a.y+h},d,f,219)}}f.currentcolor=l},i.onload=function(t){r.src=t.target.result},i.readAsDataURL(n)},i.click()}else alert("Your browser doesn't support FileReader, please use a modern web browser")})),document.getElementById("compile").addEventListener("click",h,!1);var v=null;document.getElementById("continue").addEventListener("click",function(){window.scroll({top:0,behavior:"smooth"})},!1),surface.on(FlDOM.Surface.Events.SCROLL,function(t){var e=document.getElementById("continue"),n=document.getElementById("lock"),o=document.getElementById("lock-content");if(0!=this.getScroll()){if(this.lock(),n.style.top="0",n.classList.add("active"),o.style.top="0",o.classList.add("active"),null!=v)try{clearTimeout(v),v=null}catch(t){}}else this.unlock(),n.classList.remove("active"),o.classList.remove("active"),v=setTimeout(function(){try{clearTimeout(v),v=null}catch(t){}n.style.top="-100%",o.style.top="-100%"},320);e.style.top="calc(50% + "+parseInt(t/2)+"px)",this.canvas.style.top=t/2+"px"}),surface.on([FlDOM.Surface.Events.MOUSEMOVE,FlDOM.Surface.Events.MOUSEUP],function(t){c(this.ctx.transformedPoint(this.mouse.x,this.mouse.y),d,f)}),surface.on(FlDOM.Surface.Events.DRAW,function(t,e,n,o){if(!(o.isOut()||o.isLock()||o.isHover())){var i=e.transformedPoint(n.x,n.y),r=i.x-i.x%d.ds.x-(i.x<0?d.ds.x:0),s=i.y-i.y%d.ds.y-(i.y<0?d.ds.y:0);e.globalAlpha=.4,e.beginPath(),e.rect(r,s,d.ds.x,d.ds.y),e.fillStyle=f.currentcolor,e.fill(),e.globalAlpha=1}});var p=function(){window.requestAnimationFrame(function(){p()}),surface.draw()};p()};</script><script>/**/if(String.prototype.trim||function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||(Array.prototype.includes=function(e){return!!~this.indexOf(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t,n){return function(r,i){if(null===this||this===undefined)throw TypeError("Array.prototype.indexOf called on null or undefined");var s=e(this),a=s.length>>>0,o=n(0|i,a);if(o<0)o=t(0,a+o);else if(o>=a)return-1;if(void 0===r){for(;o!==a;++o)if(void 0===s[o]&&o in s)return o}else if(r!=r){for(;o!==a;++o)if(s[o]!=s[o])return o}else for(;o!==a;++o)if(s[o]===r)return o;return-1}}(Object,Math.max,Math.min)),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),String.prototype.repeat||(String.prototype.repeat=function(e){if(e<1)return"";for(var t="",n=this.valueOf();e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}),String.prototype.spliteveryn||(String.prototype.spliteveryn=function(e,t){for(var n=[""],r=this.valueOf(),i=e,s=0;s<r.length;s++){var a=r.charAt(s);"\n"!=a?(n[n.length-1]+=a,i--,(t||/\s/.test(a))&&i<=0&&(n.push(""),i=e)):(n.push(""),i=e)}return n}),String.prototype.capitalize||(String.prototype.capitalize=function(){return this.valueOf().toLowerCase().replace(/^\w|\s\w/g,function(e){return e.toUpperCase()})}),"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n}),void 0===ActiveXObject){var ActiveXObject=function(){};ActiveXObject.prototype.OpenTextFile=function(){return{ReadAll:function(){return""},Write:function(){}}},ActiveXObject.prototype.FileExists=function(){return!0},ActiveXObject.prototype.GetSpecialFolder=function(){return"temp"},ActiveXObject.prototype.run=function(){}}var isJScriptInstance=!0;"undefined"==typeof WScript&&(isJScriptInstance=!1,WScript={Echo:console.log,Quit:function(e){if(0!=e)throw new Error},Arguments:function(){return""}},WScript.Arguments.length=0,WScript.ScriptName="Editor",WScript.ScriptFullName="Editor"),"undefined"==typeof window&&(window={}),"undefined"==typeof console&&(console={log:function(e){WScript.Echo(e)}}),window.Fl={VERSION:"3.0.4"};var Fl=window.Fl;Fl.Utils={},Fl.Config={},Fl.Utils.File=function(){var e=new ActiveXObject("Scripting.FileSystemObject"),t={Read:function(t){var n=e.OpenTextFile(t,1),r=n.ReadAll();return n.close(),r},Exists:function(t){return e.FileExists(t)},Write:function(t,n){var r=e.OpenTextFile(t,2,!0);r.write(n),r.close()},WriteTmp:function(n,r){var i=e.GetSpecialFolder(2).Path;return i.length>0&&"\\"!=i.charAt(i.length-1)&&(i+="\\"),t.Write(i+n,r),i+n},GetExtension:function(e){var t=e.split(".").slice(-1).join("");return t==e?"":t},RemoveExtension:function(e){return e.split(".").slice(0,-1).join(".")}};return t}(),Fl.Utils.RegExp=function(){var e={Escape:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},IsDefined:function(e){return void 0!==e&&""!=e},IsWhiteSpace:function(e){return/\s/.test(e)},IsLineFeed:function(e){return"\n"==e}};return e}(),Fl.Indent="    ",Fl.Config.Namespace={Variable:{Disable:1,Precompute:2,Modifiable:3,Argument:4}},Fl.Reader=function(e){var t=function(e){e instanceof t?(this.content=e.content,this.cursor=e.cursor,this.line=e.line,this.column=e.column,this.current=e.current):(this.content=e,this.cursor=0,this.line=1,this.column=1,this.current=""),this.context=[]};return t.prototype.copy=function(){return new t(this)},t.prototype.apply=function(e){this.cursor=e.cursor,this.line=e.line,this.column=e.column,this.current=e.current,this.context=[]},t.prototype.save=function(){this.context.push(this.cursor)},t.prototype.restore=function(){0!=this.context.length&&(this.cursor=this.context.pop())},t.prototype.isEOF=function(){return this.cursor>this.content.length-1},t.prototype.read=function(){return this.isEOF()?(this.current=null,null):(this.current=this.content.charAt(this.cursor++),t=this,n=this.current,e.RegExp.IsLineFeed(n)?(t.line++,t.column=1):t.column++,this.current);var t,n},t.prototype.peek=function(){return this.isEOF()?(this.current=null,null):this.content.charAt(this.cursor)},t.prototype.info=function(){return"(Ln "+this.line+", Col "+this.column+")"},t.prototype.skipWhitespace=function(){if(!this.isEOF()){var t=this.peek();if(null!=t)for(;e.RegExp.IsWhiteSpace(t);)this.read(),t=this.peek()}},t}(Fl.Utils),Fl.Stream=function(e){var t=function(t){for(var n="",r="";!e.RegExp.IsLineFeed(r=t.read())&&!t.isEOF();)n+=r;return n},n=function(e){this.reader=e};return n.prototype.copy=function(){return new n(this.reader.copy())},n.prototype.apply=function(e){this.reader.apply(e.reader)},n.prototype.save=function(){this.reader.save()},n.prototype.restore=function(){this.reader.restore()},n.prototype.isEOF=function(){return this.reader.isEOF()},n.prototype.read=function(t){if("number"==typeof t){for(var n="";t--;){var r=this.reader.read();if(null==r)break;n+=r}return n}return function(t){for(var n=!1,r="",i=!1,s=!1;;){var a=t.peek();if(null==a)break;if('"'!=a){if(e.RegExp.IsLineFeed(a)){if(""==r)return t.read();break}if(i=!0,n)r+=a,t.read();else{if(e.RegExp.IsWhiteSpace(a)){if(""==r)return t.read();break}r+=a,t.read()}}else n=!n,i||(s=!0),i&&(r+=a),i=!0,t.read()}return s&&r.length>0&&'"'==r.charAt(r.length-1)&&(r=r.slice(0,-1)),r}(this.reader)},n.prototype.readLine=function(){return t(this.reader)},n.prototype.peekLine=function(){this.reader.save();var e=t(this.reader);return this.reader.restore(),e},n.prototype.peek=function(){this.reader.save();var e=this.read();return this.reader.restore(),e},n.prototype.info=function(){return this.reader.info()},n.prototype.nextLine=function(){this.readLine()},n.prototype.skipWhitespace=function(){this.reader.skipWhitespace()},n}(Fl.Utils),Fl.Analyser=function(){var e=function(){this.testfn=null,this.tokenfn=null,this.subAnalysers=[],this.type="@Unknown"};return e.prototype.copy=function(){return(new e).setTest(this.testfn).setTokeniser(this.tokenfn).setType(this.type)},e.prototype.setTest=function(e){return this.testfn=e,this},e.prototype.setTokeniser=function(e){return this.tokenfn=e,this},e.prototype.setType=function(e){return this.type=e,this},e.prototype.getType=function(){return this.type},e.prototype.test=function(e,t){return"function"==typeof this.testfn&&this.testfn(this,e,t)},e.prototype.getToken=function(e,t){return"function"==typeof this.tokenfn&&this.tokenfn(this,e,t)},e.prototype.includes=function(e){return this.subAnalysers.push(e),this},e}(),Fl.Token=function(e,t){var n=function(t,n){t instanceof e?(this.line=t.line,this.column=t.column,this.data=n):(this.line=null,this.column=null,this.data=t),this.type=0};return n.prototype.copy=function(){var e=new n(this.data).setType(this.type);return e.line=this.line,e.column=this.column,e},n.prototype.setType=function(e){return this.type=e,this},n.prototype.getType=function(e){return 0==this.type?"":this.type},n.prototype.setInfo=function(e){return this.line=e.line,this.column=e.column,this},n.prototype.toString=function(){var e="";if(Array.isArray(this.data))for(var r=0;r<this.data.length;r++){var i=r==this.data.length-1?"":",\n";this.data[r]instanceof n?e+=t+this.data[r].toString().replace(/\n/g,"\n"+t)+i:e+=t+"`"+this.data[r].replace(/\n/g,"\n"+t)+"`"+i}else e=this.data instanceof n?t+this.data.toString().replace(/\n/g,"\n"+t):t+"`"+this.data.replace(/\n/g,"\n"+t)+"`";return"Token::"+this.type+" [Ln "+this.line+", Col "+this.column+"] (\n"+e+"\n)"},n}(Fl.Reader,Fl.Indent),Fl.Parser=function(e,t){var n=function(e){this.stream=e,this.analysers=[];var t=this;this.getNewParser=function(e){var r=t.stream.copy();r.reader.cursor=0,r.reader.current="",r.reader.content=e;for(var i=new n(r),s=0;s<t.analysers.length;s++)i.addAnalyser(t.analysers[s]);return i}};return n.prototype.addAnalyser=function(e){if(!(e instanceof t))throw new Error("First argument must be an Analyser object");this.analysers.push(e)},n.prototype.addAnalysers=function(){for(var e=0;e<arguments.length;e++){var n=arguments[e];if(Array.isArray(n))for(var r=0;r<n.length;r++)this.addAnalysers(n[r]);else{if(!(n instanceof t))throw new Error("Argument "+(e+1)+" must be an Analyser object");this.analysers.push(n)}}},n.prototype.next=function(){if(this.stream.isEOF())return null;for(var t=0;t<this.analysers.length;t++){var n=this.analysers[t];this.stream.save();var r=this.stream.reader.copy();if(n.test(this.stream.copy(),this.getNewParser)){var i=this.stream.copy(),s=n.getToken(i,this.getNewParser);return this.stream.apply(i),s.setInfo(r),s.setType(n.getType()+s.getType()),s}this.stream.restore()}return this.stream.isEOF()?null:new e(this.stream.reader,this.stream.read())},n.prototype.getAllTokens=function(){var e,t=[];do{if(null==(e=this.next()))break;t.push(e)}while(null!=e);return t},n}(Fl.Token,Fl.Analyser),Fl.AanalyserLib=function(e){var t=function(){this.analysers={}};return t.prototype.add=function(t,n){if(!(n instanceof e))throw new Error("Second argument must be an Analyser object");if(this.exists(t))throw new Error("`"+t+"` already exists");this.analysers[t]=n.copy().setType(t)},t.prototype.exists=function(e){return"undefined"!=typeof this.analysers[e]},t.prototype.remove=function(e){if("undefined"==typeof this.analysers[e])throw new Error("Unable to find `"+e+"` analyser");this.analysers[e]=null,delete this.analysers[e]},t.prototype.get=function(e){if("undefined"==typeof this.analysers[e])throw new Error("Unable to find `"+e+"` analyser");return this.analysers[e].copy()},t}(Fl.Analyser),Fl.GraphicCommand=function(e){var t=function(e,t,n){if(this.type=e,"string"==typeof t)this.aliases=[t];else{if(!Array.isArray(t))throw new Error("bad graphic command name");this.aliases=t}this.argmin=n||0};return t.prototype.getType=function(){return this.type},t.prototype.test=function(e){return this.aliases.includes(e)},t.prototype.read=function(e){for(var n=[],r=0;r<this.argmin;r++){e.skipWhitespace();var i=e.read();if(null==i||t.isCommand(i))throw new Error("hmmmm");n.push(i)}return e.skipWhitespace(),n},t.isCommand=function(e){return null!=e&&(e.length>1&&("/"==e.charAt(0)||"-"==e.charAt(0)))},t.processTest=function(e,n){var r=e.read();if(t.isCommand(r)){var i=r.substring(1);if(0==i.length)return!1;for(var s=0;s<n.length;s++)if(n[s].test(i))return!0;for(s=0;s<i.length&&!isNaN(i.charAt(s));s++);if(s>i.length-1)return!1;for(;s<i.length;s++){for(var a=!1,o=0;o<n.length&&(n[o].test(i.charAt(s))&&(a=!0),!a);o++);if(!a)return!1}return!0}return!1},t.process=function(t,n){t.read(1);for(var r=t.read(),i=0;i<n.length;i++)if(n[i].test(r))return new e(n[i].read(t)).setType(n[i].getType());for(var s="",a=(i=0,[]);i<r.length&&!isNaN(r.charAt(i));i++)s+=r.charAt(i);for(s=""==s?1:parseInt(s);i<r.length;i++)for(var o=0;o<n.length;o++)if(n[o].test(r.charAt(i))){a.push(n[o]);break}for(var l=[];s--;)for(o=0;o<a.length;o++)l.push(new e(a[o].read(t)).setType(a[o].getType()));return new e(l)},t}(Fl.Token),Fl.Argument=function(){var e=function(e){this.value=e,this.name=null,this.namespace=null};return e.prototype.getValue=function(){return this.value},e.prototype.getName=function(){return this.name},e.prototype.getNamespace=function(){return this.namespace},e.prototype.setNamespace=function(e){return this.namespace=e,this},e.prototype.setVariable=function(e){return this.name=e,this},e}(),Fl.GraphicCommandManager=function(){var e=function(){this.commands=[],this.lookup={}};return e.prototype.all=function(){return this.commands},e.prototype.get=function(e){if("undefined"==typeof this.lookup[e])throw new Error("Unable to find the command `"+e+"`");return this.lookup[e]},e.prototype.add=function(e){return this.commands.push(e),this.lookup[e.getType()]=e,this},e}(),Fl.GraphicRawElement=function(e,t){var n=function(t){if(!Array.isArray(t.data))return!1;for(var n=0;n<t.data.length;n++)if(!(t.data[n]instanceof e))return!1;return!0},r=function(t,i){i=i||"";for(var s=[],a=0;a<t.length;a++)if(t[a]instanceof e)if(n(t[a])){var o=r(t[a].data,i+t[a].getType()+">");s=s.concat(o)}else s.push(t[a].copy().setType(i+t[a].getType()));return s},i=function(e,t){this.name=e,this.tokens=t};return i.prototype.toString=function(e){var n=this.tokens.length;if(e){n="[\n";for(var r=0;r<this.tokens.length;r++){var i=r==this.tokens.length-1?"":",\n";n+=this.tokens[r].toString()+i}n=n.replace(/\n/g,"\n"+t+t)+"\n"+t+"]"}return"GraphicRawElement (\n"+t+"name  : `"+this.name+"`\n"+t+"tokens: "+n+"\n)"},i.getRawElements=function(e,t){var n=!1,s=[],a=[],o="";e=r(e);for(var l=0;l<e.length;l++){var u=e[l];if(u.getType().includes(t.start))n=!0,o=u.data;else if(n){if(u.getType().includes(t.end)){n=!1,a.push(new i(o,s)),s=[];continue}u.getType().includes(t.data)&&s.push(u)}}return a},i}(Fl.Token,Fl.Indent),Fl.Formatter=function(e){if(void 0!==e){if(!Array.isArray(e))throw new Error("First argument must be a Array<String>");for(var t=0;t<e.length;t++){if("string"!=typeof e[t])throw new Error("Fl.Formatter Event name must be a String");this[e[t]]=function(){return""},function(e,t){e["set"+(t.length>0?t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1):""):"")]=function(n){return e[t]=n,e}}(this,e[t])}}},Fl.Environment=function(e,t){var n=function(e){this.name=e||"setenv",this.data={},this.arguments={},this.namespaces={},this.variablenamespaces={}};return n.prototype.existsArgument=function(e){if(isNaN(e))throw new Error("First argument must be a number");return"undefined"!=typeof this.arguments[parseInt(e)]},n.prototype.setParameter=function(e,t,n){var r=null;if("undefined"==typeof this.namespaces[t]){for(var i=1,s=Object.keys(this.arguments).sort(function(e,t){return e-t}),a=0;a<s.length;a++)if(!(s[a]<i)){if(i!=s[a])break;i++}this.arguments[i]=n,this.namespaces[t]={value:n,index:i},r=i}else if(this.namespaces[t].value==n)r=this.namespaces[t].index;else{if(this.namespaces[t].value==n)return null;for(var o in this.namespaces)if(this.namespaces.hasOwnProperty(o)&&this.namespaces[o].value==n){r=this.namespaces[o].index;break}}return null==r?null:(null==n&&(this.variablenamespaces[e]=t),r)},n.prototype.setArgument=function(e,t){if(isNaN(e))throw new Error("First argument must be a number");return this.arguments[parseInt(e)]=t,this},n.prototype.getArgument=function(e){if(isNaN(e))throw new Error("First argument must be a number");return this.existsArgument(e)?this.arguments[parseInt(e)]:""},n.prototype.exists=function(e){return"undefined"!=typeof this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.get=function(e){return this.exists(e)?this.data[e]:""},n.prototype.entries=function(){return this.data},n.prototype.process=function(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.processContent(e[n]));return t}return this.processContent(e)},n.prototype.processContent=function(t){var n=this;return t.replace(/%%|(?:%(~\w?)?(\d))|(?:%([^%:\n~]+)(?:\:~(-?\d+)(?:,(-?\d+))?|:([^%=]+)(?:=([^%]+))?)?%)|%/g,function(t){if("%%"==t)return"%";if("%"==t)return"";var r=t.match(/(?:%(~\w?)?(\d))|(?:%([^%:\n~]+)(?:\:~(-?\d+)(?:,(-?\d+))?|:([^%=]+)(?:=([^%]+))?)?%)/);if(null==r)return t;var i=!!e.RegExp.IsDefined(r[1]),s=r[2],a=r[3],o=e.RegExp.IsDefined(r[4])?parseInt(r[4]):r[4],l=e.RegExp.IsDefined(r[5])?parseInt(r[5]):r[5],u=r[6],c=r[7],p="";return e.RegExp.IsDefined(a)?(p=n.get(a),e.RegExp.IsDefined(o)&&e.RegExp.IsDefined(l)&&(p=""==p?"~"+o+","+l:p.slice(o,l>0?o+l:l)),e.RegExp.IsDefined(o)&&!e.RegExp.IsDefined(l)&&(p=""==p?"~"+o:p.slice(o)),e.RegExp.IsDefined(u)&&e.RegExp.IsDefined(c)&&(p=p.replace(new RegExp(e.RegExp.Escape(u),"g"),function(){return c})),p):e.RegExp.IsDefined(s)?(p=n.getArgument(s),i&&'"'==p.charAt(0)&&(p='"'==p.charAt(p.length-1)?p.slice(1,-1):p.substring(1)),p):""})},n.prototype.toString=function(e){if(!(e instanceof t))return"";var n="",r={},i=1;for(var s in this.namespaces)this.namespaces.hasOwnProperty(s)&&null==this.namespaces[s].value&&(r[s]=i,i++);var a=this.entries();for(var s in a)a.hasOwnProperty(s)&&(n+=e.variable(s,a[s],"undefined"==typeof this.variablenamespaces[s]?null:"%~"+r[this.variablenamespaces[s]]));return n},n}(Fl.Utils,Fl.Formatter),Fl.GraphicCanvas=function(){var e=function(t){this.element=t,this.cursor={x:0,y:0},this.colorInfo={fg:"f",bg:"0"},this.rectInfo={left:null,right:null,top:null,bottom:null},this.virtualCanvas={};var n=this;this.commands={},this.commands.g=this.commands.goto=function(t,r){n.cursor.x=isNaN(t)?n.cursor.x:parseInt(t),n.cursor.y=isNaN(r)?n.cursor.y:parseInt(r),e.updateRect(this.rectInfo,n.cursor.x,n.cursor.y)},this.commands.c=this.commands.color=function(e){if(e.length>2){if("0"!=e.charAt(0))return;if("x"!=e.charAt(1)&&"X"!=e.charAt(1))return;e.length>3?(n.colorInfo.bg=e.charAt(2),n.colorInfo.fg=e.charAt(3)):n.colorInfo.fg=e.charAt(2)}},this.commands.a=this.commands.ascii=function(t){var r=new Fl.Cell(n.cursor.x,n.cursor.y,{fg:n.colorInfo.fg,bg:n.colorInfo.bg},t);n.virtualCanvas[Fl.CoordinateToString(n.cursor)]=r,e.updateRect(this.rectInfo,n.cursor.x+1,n.cursor.y+1),n.cursor.x++}};return e.prototype.getElement=function(){return this.element},e.prototype.rect=function(){return this.rectInfo},e.prototype.get=function(e,t){return"undefined"==typeof this.virtualCanvas[Fl.CoordinateToString(e,t)]?null:this.virtualCanvas[Fl.CoordinateToString(e,t)]},e.updateRect=function(e,t,n){if(null==e.left&&null==e.right&&null==e.top&&null==e.bottom)return e.right=t+1,e.left=t,e.bottom=n+1,void(e.top=n);t+1>e.right&&(e.right=t+1),t<e.left&&(e.left=t),n+1>e.bottom&&(e.bottom=n+1),n<e.top&&(e.top=n)},e}(),Fl.GraphicBuilder=function(e,t,n){var r=function(){this.env=new t,this.identifiers={start:"@Unknown",data:"@Unknown",end:"@Unknown"}};return r.prototype.setStart=function(e){return this.identifiers.start=e,this},r.prototype.setData=function(e){return this.identifiers.data=e,this},r.prototype.setEnd=function(e){return this.identifiers.end=e,this},r.prototype.setEnvironment=function(e){if(!(e instanceof t))throw new Error("First argument must be an Fl.Environment object");return this.env=e,this},r.prototype.setEnvironmentVariable=function(e,t){return this.env.set(e,t),this},r.prototype.setEnvironmentArgument=function(e,t){return this.env.setArgument(e,t),this},r.prototype.process=function(t){for(var r=e.getRawElements(t,this.identifiers),i=[],s=0;s<r.length;s++){for(var a=r[s],o=new n(a),l=0;l<a.tokens.length;l++){var u=a.tokens[l],c=u.getType().split("/");if(c.length>1){var p=c[1];if("function"!=typeof o.commands[p])throw new Error("Unknown Graphic Function `"+p+"`");o.commands[p].apply(o,this.env.process(u.data))}}i.push(o)}return i},r}(Fl.GraphicRawElement,Fl.Environment,Fl.GraphicCanvas),Fl.TranscriptArray=function(){var e=function(){this.data=[]};return e.prototype.add=function(t){t instanceof e?this.data=this.data.concat(t.all()):Array.isArray(t)?this.data=this.data.concat(t):this.data.push(t)},e.prototype.all=function(){return this.data},e}(),Fl.TranspiledElement=function(e,t,n,r,i){var s=function(e,t,i){if(null==e)return"";var s="";if(e instanceof r){var a=e.getNamespace(),o=function(e,t){return void 0===e||null==e||"undefined"==typeof t[e]?n.Namespace.Variable.Disable:t[e]}(a,i);if(o==n.Namespace.Variable.Precompute||o==n.Namespace.Variable.Modifiable||o==n.Namespace.Variable.Argument){var l=e.getName(),u=e.getValue();if(null!=l)if(o==n.Namespace.Variable.Argument){var c=t.setParameter(l,a,u);s+=null==c?e.getValue():"%~"+c}else o==n.Namespace.Variable.Modifiable?(s+="%"+l+"%",t.set(l,u),t.setParameter(l,a,null)):(s+="%"+l+"%",t.set(l,u));else s+=e.getValue()}else s+=e.getValue()}else{if("string"!=typeof e)throw new Error("Item must be a String or a Fl.Argument (Fl.TranspilerPlugin listener not returning good type (aka Array<(String|Fl.Argument)>))");s+=e}return s},a=function(n,r){this.name=n,this.data=new e,this.env=new t(r),this._events={}};return a.Events={START_FUNCTION:1,CALL_FUNCTION:2,END_FUNCTION:3},a.prototype.add=function(t){if(!(t instanceof e))throw new Error("First argument must be a Fl.TranscriptArray object");return this.data.add(t),this},a.prototype.compile=function(e,t){if(!(e instanceof i))throw new Error("First argument must be a Fl.Formatter object");for(var r=!function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t)return!1;return!0}(t,n.Namespace.Variable.Disable),a="",o=this.data.all(),l=0;l<o.length;l++)a+=s(o[l],this.env,t);var u=[],c=[],p=[],f=[];for(var h in this.env.namespaces)if(this.env.namespaces.hasOwnProperty(h)){var m={key:h,index:this.env.namespaces[h].index};null==this.env.namespaces[h].value&&(c.push(m),f.push(h)),u.push(m),p.push(h)}var g=[];for(l=0;l<c.length;l++)for(var y=0;y<u.length;y++)if(c[l].key==u[y].key){g.push('"%~'+u[y].index+'"');break}var d="";return r&&(d+=e.startFunction(this.env.name,f),d+=this.env.toString(e),d+=e.endFunction()),d+=e.startFunction(this.name,p),r&&(d+=e.callFunction(this.env.name,g)),d+=a,d+=e.endFunction()},a}(Fl.TranscriptArray,Fl.Environment,Fl.Config,Fl.Argument,Fl.Formatter),Fl.TranspilerPlugin=function(e,t,n){var r={},i=function(e){if("undefined"!=typeof r[e])throw new Error("Fl.TranspilerPlugin `"+e+"` already taken");r[e]=this,this.id=e,this.data={},this._events={},this.on(i.Events.END,function(e){return e.content})};return i.prototype.start=function(e){return this.on(i.Events.START,e)},i.prototype.before=function(e){return this.on(i.Events.BEFORE_CELL,e)},i.prototype.step=function(e){return this.on(i.Events.CELL,e)},i.prototype.after=function(e){return this.on(i.Events.AFTER_CELL,e)},i.prototype.end=function(e){return this.on(i.Events.END,e)},i.prototype.on=function(e,t){return this._events[e]=t,this},i.prototype.fire=function(e,t,r){var i=new n;if("function"!=typeof this._events[e])return i;var s=this;return(r=r||{}).track=function(e,t){var n=!1;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))throw new Error("Arguments must have the same type");if(Array.isArray(e)&&e.length!=t.length)throw new Error("Arguments Array must have the same length");if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("undefined"==typeof s.data[e[r]]||s.data[e[r]]!=t[r]){n=!0;break}}else n="undefined"==typeof s.data[e]||s.data[e]!=t;if(n)if(Array.isArray(e))for(r=0;r<e.length;r++)s.data[e[r]]=t[r];else s.data[e]=t;return{onChange:function(e){n&&e()}}},r.istrack=function(e){return"undefined"!=typeof s.data[e]},r.untrack=function(e){"undefined"!=typeof s.data[e]&&(s.data[e]=null,delete s.data[e])},this._events[e].apply(r,[i,t]),i},i.Events={START:1,CELL:2,BEFORE_CELL:3,AFTER_CELL:4,END:5},i.prototype.process=function(e,t){this.data={};var n=e.rect();t.add(this.fire(i.Events.START,{}));for(var r=n.top;r<n.bottom;r++){t.add(this.fire(i.Events.BEFORE_CELL,{x:s,y:r}));for(var s=n.left;s<n.right;s++)t.add(this.fire(i.Events.CELL,e.get(s,r)));t.add(this.fire(i.Events.AFTER_CELL,{x:s,y:r}))}t.add(this.fire(i.Events.END,{}))},i}(Fl.Flag,Fl.Argument,Fl.TranscriptArray),Fl.Transpiler=function(e,t,n,r,i,s,a,o){var l=function(){};return l.prototype.process=function(l){var u="",c=(l=l||{}).content||"",p=(l.mode,l.env||new i,l.envName||"setenv"),f=l.analysers||[],h=l.builder,m=l.plugin,g=l.formatter,y=l.namespaces||[];if(!(g instanceof o))throw new Error("settings.formatter must be a Fl.Formatter object");if(!(h instanceof r))throw new Error("settings.builder must be a Fl.GraphicBuilder object");if(!(m instanceof s))throw new Error("settings.plugin must be a Fl.TranspilerPlugin object");if("object"!=typeof y)throw new Error("settings.namespaces must be an Object<String,Fl.Config.Namespace.Variable>");var d=[];if("string"==typeof c){var v=new n(new t(new e(c)));v.addAnalysers(f);var F=v.getAllTokens();d=h.process(F)}else{var b=new Fl.GraphicCanvas({name:":"+(l.name||"new_draw")});for(var w in b.virtualCanvas={},c)c.hasOwnProperty(w)&&Fl.GraphicCanvas.updateRect(b.rectInfo,c[w].x,c[w].y);for(var w in c)if(c.hasOwnProperty(w)){var A=c[w].copy();A.x-=b.rectInfo.left-1,A.y-=b.rectInfo.top-1,b.virtualCanvas[Fl.CoordinateToString(A)]=A}b.rectInfo.right-=b.rectInfo.left-1,b.rectInfo.bottom-=b.rectInfo.top-1,b.rectInfo.left=1,b.rectInfo.top=1,d.push(b)}for(var E=[],x=0;x<d.length;x++){var k=d[x],T=new a(k.getElement().name,k.getElement().name+"."+p);m.process(k,T),E.push(T)}for(x=0;x<E.length;x++)u+=E[x].compile(g,y);return u},l}(Fl.Reader,Fl.Stream,Fl.Parser,Fl.GraphicBuilder,Fl.Environment,Fl.TranspilerPlugin,Fl.TranspiledElement,Fl.Formatter),Fl.Core={},Fl.Core.System=function(){var e=function(e){if(void 0===e)return null;if(null==e)return null;if("string"!=typeof e)throw new Error("First argument must be a String");var t=e.indexOf("="),n=e,r=null;return t>=0&&(n=e.substring(0,t),r=e.substring(t+1)),{aliase:n,value:r}},t=function(e){this.name=e,this.settings={},this.defaultSettings={},this.parameters=[],this.namespaces={}};return t.prototype.getName=function(){return this.name.indexOf(" ")<0?this.name:'"'+this.name+'"'},(t.Parameter=function(e){e=e||{},this.namespace=e.namespace,this.name=e.name,this.example="undefined"==typeof e.example?null:"boolean"==typeof e.example?e.example?"":"number"==typeof e.example?""+e.example:e.example:e.example,this.placeholder=e.placeholder||"",this.aliases=e.aliases,this.novalue="undefined"!=typeof e.novalue&&e.novalue,this.optional="undefined"!=typeof e.optional&&e.optional,this.description=e.description,this.authorizedValues=e.authorizedValues||[],this.setter="function"==typeof e.setter?e.setter:function(e){this.set(e)}}).prototype.getAliaseName=function(e){if("number"!=typeof e)throw new Error("First argument must be a number");if(e<0||e>this.aliases.length-1)throw new Error("index out of range");return"string"==typeof this.aliases[e]?this.aliases[e]:this.aliases[e].name},t.Parameter.prototype.testAliase=function(e){for(var t=0;t<this.aliases.length;t++)if("string"==typeof this.aliases[t]){if(this.aliases[t]==e)return!0}else if(this.aliases[t].test(e))return!0;return!1},t.Parameter.prototype.testValue=function(e){if(0==this.authorizedValues.length)return!0;for(var t="string"==typeof e?e.toLowerCase():e,n=0;n<this.authorizedValues.length;n++)if(this.authorizedValues[n].toLowerCase()==t)return!0;return!1},t.Parameter.prototype.process=function(e,t){return this.setter(e,t)},t.Parameter.prototype.toString=function(e,t){if(t){var n="";if(null!=this.example){var r=this,i=function(t){var n=e+" ";if("function"==typeof t){var i=t();n+=i.indexOf(" ")>=0?'"'+i+'"':i}else n+=(t.indexOf(" ")>=0?'"':"")+r.getAliaseName(0)+(r.novalue?"":"="+t)+(t.indexOf(" ")>=0?'"':"");return n};if(Array.isArray(this.example)){n="\n\nExample:\n";for(var s=0;s<this.example.length;s++)n+="   "+i(this.example[s])+(s==this.example.length-1?"":"\n")}else n+="\n\nExample: "+i(this.example)}return function(e,t){e.content=e.content.spliteveryn(e.size).join("\n"),t.content=t.content.spliteveryn(t.size).join("\n");for(var n=e.content.split("\n"),r=t.content.split("\n");n.length<r.length;)n.push("");for(;r.length<n.length;)r.push("");for(var i=0;i<n.length;i++)n[i]+=" ".repeat(e.size-n[i].length)+r[i];return n.join("\n")}({content:"   "+function(e){for(var t="",n=0;n<e.length;n++){var r=n==e.length-1?"":", ";"object"==typeof e[n]?t+=e[n].name+r:t+=e[n]+r}return t}(this.aliases),size:33},{content:this.description+n,size:57})}return(this.optional?"[":"")+this.getAliaseName(0)+(this.novalue?"":"=<"+this.placeholder+">")+(this.optional?"]":"")},t.prototype.help=function(){var e="";e+="\n Usage:\n\n";for(var t=[],n=[],r=Object.keys(this.namespaces).sort(function(e,t){return t-e}),i=0;i<r.length;i++){for(var s=r[i],a="  "+this.getName(),o=this.namespaces[s],l=!1,u=0;u<o.length;u++){var c=o[u];c.optional?(l=!0,t.push(c)):(n.push(c),a+=" "+c.toString(this.getName()))}e+=a+(l?" [options]":"")+"\n"}e+="\n";for(u=0;u<n.length;u++)e+=n[u].toString(this.getName(),!0)+"\n\n\n";e+="\n Options:\n\n";for(u=0;u<t.length;u++)e+=t[u].toString(this.getName(),!0)+"\n\n\n";return e},t.prototype.register=function(e){if(!(e instanceof t.Parameter))throw new Error("First argument must be a Fl.System.Parameter");"undefined"==typeof this.namespaces[e.namespace]&&(this.namespaces[e.namespace]=[]),this.namespaces[e.namespace].push(e),this.parameters.push(e)},t.prototype.copyright=function(){this.log("(c) Copyright 2022 - Flammrock")},t.prototype.set=function(e,t){"function"==typeof t?t(this.settings):this.settings[e]=t},t.prototype.log=function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];WScript.Echo(e.join(" "))},t.prototype.exit=function(e){WScript.Quit(e)},t.prototype.process=function(t){this.settings=Object.assign({},this.defaultSettings);for(var n=this,r={},i=0;i<t.length;i++){for(var s=t[i],a=e(s),o=null,l=0;l<this.parameters.length;l++)if(this.parameters[l].testAliase(a.aliase)){o=this.parameters[l];break}if(null==o)return"unknow parameter `"+a.aliase+"`";if(!o.testValue(a.value))return"for `"+a.aliase+"` only theses values are allowed : "+o.authorizedValues.join(", ");var u="function"==typeof o.name?o.name(a.aliase):o.name;r[u]=!0;var c=o.process.apply({set:function(e){n.set(u,e)},setter:o.setter,exit:this.exit,log:this.log,help:function(){return n.help()},copyright:function(){return n.copyright()},name:this.name},[a.value,u]);if(void 0!==c)return c||"bad command line, see: --help, -h"}for(i=0;i<this.parameters.length;i++)if(!this.parameters[i].optional&&"undefined"==typeof r[this.parameters[i].name])return"`"+this.parameters[i].aliases.join("` or `")+"` was expected"},t}(),Fl.CoordinateToString=function(){var e=function(e){return 0==e?"0":e<0?"-"+Math.abs(e).toString():e.toString()};return function(t,n){return"object"==typeof t?e(t.x)+","+e(t.y):e(t)+","+e(n)}}(),Fl.Cell=function(){var e=function(e,t,n,r){this.x=e,this.y=t,this.color=n,this.ascii=void 0===r?219:r};return e.prototype.copy=function(){return new e(this.x,this.y,this.color,this.ascii)},e}();var system=new Fl.Core.System(WScript.ScriptName),env=new Fl.Environment;env.set("xlettre",0),env.set("y1lettre",0),env.set("y2lettre",1),env.set("y3lettre",2),env.set("y4lettre",3),env.set("y5lettre",4),env.set("y6lettre",5),env.set("y7lettre",6),env.set("y8lettre",7),env.setArgument(1,"0"),env.setArgument(2,"f");var commandManager=(new Fl.GraphicCommandManager).add(new Fl.GraphicCommand("/goto",["g","goto"],2)).add(new Fl.GraphicCommand("/color",["c","color"],1)).add(new Fl.GraphicCommand("/ascii",["a","ascii"],1)),Analysers=function(e,t,n){var r=new Fl.AanalyserLib,i=n.all();return r.add("@Label",(new Fl.Analyser).setTest(function(e,t){var n=t.read();return n.length>0&&":"==n.charAt(0)}).setTokeniser(function(e,t){var n=new Fl.Token(t.read());return t.nextLine(),n})),r.add("@Rem",(new Fl.Analyser).setTest(function(e,t){return"rem"==t.read().toLowerCase()}).setTokeniser(function(e,t){t.read();var n=t.readLine();return n.length>0&&(n=n.substring(1)),new Fl.Token(n)})),r.add("@Goto",(new Fl.Analyser).setTest(function(t,n){var r=n.readLine().match(/^goto([ \t]+)?(\:?[^\s]+)?/i);return null!=r&&!!e.RegExp.IsDefined(r[2])}).setTokeniser(function(e,t){var n=t.readLine().match(/^goto([ \t]+)?(\:?[^\s]+)?/i);return new Fl.Token(n[2])})),r.add("@Darkbox",(new Fl.Analyser).setTest(function(e,n){return t.processTest(n,i)}).setTokeniser(function(e,n){return t.process(n,i)})),r.add("@Echo",(new Fl.Analyser).setTest(function(e,t){return null!=t.readLine().match(/^echo([,.; ]?)/i)}).setTokeniser(function(e,t,n){4==t.read().length&&t.read(1);var r=n(t.readLine());return r.addAnalysers(e.subAnalysers),new Fl.Token(r.getAllTokens())})),r}(Fl.Utils,Fl.GraphicCommand,commandManager),analysers=[Analysers.get("@Label"),Analysers.get("@Rem"),Analysers.get("@Goto"),Analysers.get("@Echo").includes(Analysers.get("@Darkbox"))],builder=(new Fl.GraphicBuilder).setStart("@Label").setData("@Echo>@Darkbox").setEnd("@Goto").setEnvironment(env),formatter=new Fl.Formatter(["startFunction","callFunction","endFunction","variable"]).setStartFunction(function(e,t){return e+(t.length>0?" <"+t.join("> <")+">":"")+"\n"}).setCallFunction(function(e,t){return"call "+e+(t.length>0?" "+t.join(" "):"")+"\n"}).setEndFunction(function(e){return"goto:eof\n"}).setVariable(function(e,t,n){return"set "+(null!=n?"/a ":"")+e+"="+t+(null!=n?"+"+n:"")+"\n"}),plugins={};plugins.batbox=new Fl.TranspilerPlugin(1).step(function(e,t){if(null==t)return this.istrack("y")&&e.add("\n"),void this.untrack("y");this.track("y",t.y).onChange(function(){e.add(["batbox /g ",new Fl.Argument(t.x).setVariable("x"+t.x+"lettre").setNamespace("x")," ",new Fl.Argument(t.y).setVariable("y"+t.y+"lettre").setNamespace("y")," "])}),this.track(["bg","fg"],[t.color.bg,t.color.fg]).onChange(function(){e.add(["/c 0x",new Fl.Argument(t.color.bg).setVariable("bg"+t.color.bg).setNamespace("bg"),new Fl.Argument(t.color.fg).setVariable("fg"+t.color.fg).setNamespace("fg")," "])}),e.add(["/a ",new Fl.Argument(t.ascii).setNamespace("ascii")," "])}).after(function(e){this.istrack("y")&&e.add("\n"),this.untrack("y")}),plugins.darkbox=new Fl.TranspilerPlugin(2).step(function(e,t){if(null==t)return this.istrack("y")&&e.add("\n"),void this.untrack("y");this.track("y",t.y).onChange(function(){e.add(["echo -g ",new Fl.Argument(t.x).setVariable("x"+t.x+"lettre").setNamespace("x")," ",new Fl.Argument(t.y).setVariable("y"+t.y+"lettre").setNamespace("y")," "])}),this.track(["bg","fg"],[t.color.bg,t.color.fg]).onChange(function(){e.add(["-c 0x",new Fl.Argument(t.color.bg).setVariable("bg"+t.color.bg).setNamespace("bg"),new Fl.Argument(t.color.fg).setVariable("fg"+t.color.fg).setNamespace("fg")," "])}),e.add(["-a ",new Fl.Argument(t.ascii).setNamespace("ascii")," "])}).after(function(e){this.istrack("y")&&e.add("\n"),this.untrack("y")}),plugins.cmdgfx=new Fl.TranspilerPlugin(3).step(function(e,t){null!=t&&e.add(['echo "cmdgfx: pixel ',new Fl.Argument(t.color.fg).setVariable("fg"+t.color.fg).setNamespace("fg")," ",new Fl.Argument(t.color.bg).setVariable("bg"+t.color.bg).setNamespace("bg")," ",new Fl.Argument(Number(t.ascii).toString(16)).setNamespace("ascii")," ",new Fl.Argument(t.x).setVariable("x"+t.x+"lettre").setNamespace("x"),",",new Fl.Argument(t.y).setVariable("y"+t.y+"lettre").setNamespace("y"),'"\n'])});var transpiler=new Fl.Transpiler;if(system.defaultSettings={namespaces:{x:Fl.Config.Namespace.Variable.Modifiable,y:Fl.Config.Namespace.Variable.Modifiable,bg:Fl.Config.Namespace.Variable.Disable,fg:Fl.Config.Namespace.Variable.Disable,ascii:Fl.Config.Namespace.Variable.Disable},environment:{name:"setenv"}},system.register(new Fl.Core.System.Parameter({namespace:0,name:"version",aliases:["--version","-v"],description:"Show current version",novalue:!0,optional:!0,example:!0,setter:function(e){this.copyright(),this.log(this.name+" v"+Fl.VERSION),this.exit(0)}})),system.register(new Fl.Core.System.Parameter({namespace:1,name:"help",aliases:["--help","-h"],description:"Show help",novalue:!0,optional:!0,example:!0,setter:function(e){this.copyright(),this.log(this.help()),this.exit(0)}})),system.register(new Fl.Core.System.Parameter({namespace:2,name:"editor",aliases:["--editor","-e"],description:"Start UI Editor in the default browser",novalue:!0,optional:!0,example:!0,setter:function(e){this.copyright(),this.log("loading..");var t=Fl.Utils.File.Read(WScript.ScriptFullName)+"<\/script></body></html>",n=t.indexOf("<html");if(n<0)return"unable to start the editor";var r=Fl.Utils.File.WriteTmp(Fl.Utils.File.RemoveExtension(this.name)+".html",t.substring(n));new ActiveXObject("WScript.Shell").run(r),this.exit(0)}})),system.register(new Fl.Core.System.Parameter({namespace:3,name:"plugin",aliases:["--mode","-m"],placeholder:"mode",description:Object.keys(plugins).length+" supported modes :\n   - "+Object.keys(plugins).join("\n   - "),authorizedValues:Object.keys(plugins),example:Object.keys(plugins)[0].capitalize(),setter:function(e){this.log('mode  : "'+e.capitalize()+'"'),this.set(plugins[e]),this.set(function(t){t.mode=e.capitalize()})}})),system.register(new Fl.Core.System.Parameter({namespace:3,name:"content",aliases:["--input","-i"],placeholder:"filepath",description:"The file to be transpiled",example:"path\\to\\my file.txt",setter:function(e){if(!Fl.Utils.File.Exists(e))return"`"+e+"` not found";this.log('input : "'+e+'"'),this.set(Fl.Utils.File.Read(e)),this.set(function(t){t.input=e})}})),system.register(new Fl.Core.System.Parameter({namespace:3,name:function(e){var t=e.indexOf(".");return t>=0?"variables"+e.substring(t):"variables"},aliases:[{name:"--variables.<namespace>",test:function(e){return/^--variables\.([^=\.]+)/i.test(e)}}],placeholder:"mode",optional:!0,description:Object.keys(Fl.Config.Namespace.Variable).length+" supported mode :\n   - "+Object.keys(Fl.Config.Namespace.Variable).join("\n   - "),example:[function(){return"--variables.x="+Object.keys(Fl.Config.Namespace.Variable)[0]},function(){return"--variables.y="+Object.keys(Fl.Config.Namespace.Variable)[1%Object.keys(Fl.Config.Namespace.Variable).length]},function(){return"--variables.bg="+Object.keys(Fl.Config.Namespace.Variable)[2%Object.keys(Fl.Config.Namespace.Variable).length]},function(){return"--variables.fg="+Object.keys(Fl.Config.Namespace.Variable)[3%Object.keys(Fl.Config.Namespace.Variable).length]},function(){return"--variables.ascii="+Object.keys(Fl.Config.Namespace.Variable)[4%Object.keys(Fl.Config.Namespace.Variable).length]}],authorizedValues:Object.keys(Fl.Config.Namespace.Variable),setter:function(e,t){var n=t.substring(t.indexOf(".")+1);this.set(function(t){t.namespaces[n]=Fl.Config.Namespace.Variable[e]})}})),system.register(new Fl.Core.System.Parameter({namespace:3,name:"environment.name",aliases:["--variables.environment.name"],optional:!0,description:"If present, it allow to define label env configuration,\nonly work if at least one namespace is different of Disable\nMust not contain space or any whitespace",example:"myenv",setter:function(e){this.set(function(t){"undefined"==typeof t.environment&&(t.environment=[]),t.environment.name=e})}})),isJScriptInstance){for(var args=[],i=0;i<WScript.Arguments.length;i++)args.push(WScript.Arguments(i));var error=system.process(args);error&&(system.log("Error: "+error),system.exit(1)),"undefined"!=typeof system.settings.input&&"undefined"==typeof system.settings.output&&(system.settings.output=Fl.Utils.File.RemoveExtension(system.settings.input)+"."+system.settings.mode+"."+Fl.Utils.File.GetExtension(system.settings.input),system.log('output: "'+system.settings.output+'"')),system.log("\nprocessing...");var newcontent=transpiler.process({content:system.settings.content,env:env,envName:system.settings.environment.name,useVariables:0,analysers:analysers,builder:builder,plugin:system.settings.plugin,namespaces:system.settings.namespaces,formatter:formatter});system.log("\nDone!"),Fl.Utils.File.Write(system.settings.output,newcontent)}
</script></body></html>